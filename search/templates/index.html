{% extends "base.html" %}

{% block title %}Search and sort available domain names{% endblock %}

{% block extra-head %}
<script type="text/javascript">
  $(document).ready(function() {
    $("#loading")
      .ajaxStart(function() { $(this).show(); })
      .ajaxStop(function() { $(this).hide(); });
    $("input.keyword").keypress(keyword_keypress);
    $("input.keyword").keyup(keyword_keyup);
    $.registrar = $("select#id_registrar").val();
    $("select#id_registrar").change(update_registrar);
    $("table.weights input").change(update_scores);
    $("div#timer").everyTime(200, update_if_changed);
    keyword_keyup();
  });
</script>
{% endblock %}


{% block left %}
<form method="get" action="">
<img id="loading" src="/static/images/loading.gif" alt="" />
<div id="timer" class="span-6 quiet small"></div>
<h1>Find available domain names</h1>
<div class="span-3">{{ search_form.left }}</div>
<div class="span-3 last right">{{ search_form.right }}</div>

<p>Registrar: {{ registrar_form.registrar }}</p>

<table class="weights wide">
<tr>
<th class="bottom">Characters</th>
<td class="bottom right"><img src="/static/images/negative.png" alt="Negative" /></td>
<td class="bottom right"><img src="/static/images/neutral.png" alt="Neutral" /></td>
<td class="bottom right"><img src="/static/images/interesting.png" alt="Interesting" /></td>
<td class="bottom right"><img src="/static/images/important.png" alt="Important" /></td>
<td class="bottom right"><img src="/static/images/critical.png" alt="Critical" /></td>
</tr>
{% for field in weights_form %}
{% ifequal field.name "english" %}
<tr><th colspan="6">Readability</th></tr>
{% endifequal %}
{% ifequal field.name "prefix" %}
<tr><th colspan="6">Popularity</th></tr>
{% endifequal %}
<tr><td>{{ field.label|safe }}</td>
{% for value, text in field.field.choices %}<td><input name="{{ field.name }}" value="{{ value }}" type="radio" {% ifequal value field.field.initial %}checked="checked" {% endifequal %}/></td>
{% endfor %}</tr>
{% endfor %}
</table>
</form>

<hr />
{% endblock%}

{% block content %}
<table class="ruler wide">
<tbody id="results">
<tr><td colspan="16">
Loading...
</td></tr>
</tbody>
</table>
{% endblock %}
